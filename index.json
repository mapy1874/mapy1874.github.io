[{"authors":["admin"],"categories":null,"content":"I am a junior student at Dept. of Computer Science, University of North Carolina at Chapel Hill, where I conduct research under the supervision of Prof. Gary Bishop. I enjoy a good Netflix binge but can also be found on fountain pen shows. As a software engineering and data science enthusiast, I am actively seeking 2021 summer internship opportunities.\n","date":-62135596800,"expirydate":-62135596800,"kind":"taxonomy","lang":"en","lastmod":-62135596800,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"https://mapy1874.github.io/author/patrick-ma-%E9%A9%AC%E5%9F%B9%E5%85%83/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/author/patrick-ma-%E9%A9%AC%E5%9F%B9%E5%85%83/","section":"authors","summary":"I am a junior student at Dept. of Computer Science, University of North Carolina at Chapel Hill, where I conduct research under the supervision of Prof. Gary Bishop. I enjoy a good Netflix binge but can also be found on fountain pen shows.","tags":null,"title":"Patrick Ma (马培元)","type":"authors"},{"authors":[],"categories":[],"content":"Docker 1. Use Docker Images Run a container from a image. Execute this command for multiple times will generate several different containers from the same image.\ndocker run \u0026lt;image\u0026gt;  Lists the containers that are still running. Add the -a switch in order to see containers that have stopped.\ndocker ps  Retrieves the logs of a container, even when it has stopped\ndocker logs \u0026lt;id\u0026gt;  See the most recent 10 seconds of logs for our running container:\ndocker logs --since 10s \u0026lt;id\u0026gt;  Gets detailed information about a running or stopped container\ndocker inspect \u0026lt;id\u0026gt;  Stop a container that is still running\ndocker stop \u0026lt;id\u0026gt;  Deletes a container\ndocekr rm \u0026lt;id\u0026gt;  Deletes all stopped container\ndocker container prune -f  Let my machine to listen for incoming connections on port 8085 and route them to port 80 inside a container that runs NGINX.\n-d is meant to disconnect while allowing the long-lived container to continue running in the background. Running a container as detached means that you immediately get your command-line back and the standard output from the container is not redirected to your command-line anymore.\ndocker run -d -p 8085:80 nginx  Use volumes\nWhen the container dies (the host machine restarts, the container is moved from one node to another in a cluster, it simply fails, etc.) all of that data is lost. Using a volume, you map a directory inside the container to a persistent storage.\ndocker run -v /your/dir:/var/lib/mysql -d mysql:5.7  List the local images:\ndocker image ls  2. Create Docker Image Two basic components: A Docker image is created using the docker build command and a Dockerfile file.\nDockerfile Instructions FROM: A Dockerfile file always begins with a FROM instruction because every image is based on another base image.\nFROM node:11-alpine   Don’t use latest! First of all, it doesn’t mean that any running container will be based on the latest available version of the nginx image. Docker is about having reproducible images, so the latest version is evaluated when you build your image, not when the container is run. This means that the version will not change unless you run the docker build command again.\n COPY: Useful when I want files to be part of an image I create. Its first parameter is the file to be copied from the build context and its second parameter is the destination directory inside the image.\nCOPY index.html /usr/share/nginx/html  CMD: The CMD instruction specifies which executable is run when a container is created using your image and provides optional arguments.\nBoth the program to run and its arguments are provided as a JSON array of strings.\nCMD [\u0026quot;echo\u0026quot;, \u0026quot;Hello world\u0026quot;]  ENV: Define a default value for an environment variable, in case it isn’t provided when a container is created; this may be done in the Dockerfile file, using the ENV instruction.\nENV radius=20  The environment variables can be access in shell by $radius, in Node.JS by process.env.name\nVOLUME: store your data in a persistent file system.\nVOLUME /path/to/directory  The /path/to/directory is a path to a directory used inside the image. When a container is created using the docker run command, the -v switch can be used to map this directory to an actual volume on the host system.\n Caveat: It’s best not to think about containers as long-lived, even when they are. Don’t store information inside the containers. In other words, ensure your containers are stateless, not stateful. A stateless container never stores its state when it is run while stateful containers store some information about their state each time they are run. We’ll see later on how and where to store your container’s state. Docker containers are very stable, but the reason for having stateless containers is that this allows for easy scaling up and recovery. More about that later.\n EXPOSE: Purely for documentation purposes. It enables someone who wants to run a container from your image to know which ports they should redirect to the outside world using the -p switch of the docker run command.\nListen to TCP port 80:\nEXPOSE 80  Build command Build the dockerfile in current directory and name the image as \u0026lt;name\u0026gt;\ndocker build -t \u0026lt;name\u0026gt; .  Run a container from the image created (i.e. hello).\n--rm let docker trash the created container after execution.\ndocker run --rm hello  -it allows the user to stop the container using Ctrl-C from the command-line\ndocker run --rm -it -p 8082:80 webserver  3. Publish Docker Images A three-step process:\n  Build your image (docker build) with the appropriate prefix name or tag (docker tag) an existing one appropriately.\nFor a image in the current directory that is not built yet:\ndocker build -t \u0026lt;username\u0026gt;/\u0026lt;name\u0026gt;:\u0026lt;tag\u0026gt; .  For an existing image:\ndocker tag \u0026lt;name\u0026gt; \u0026lt;username\u0026gt;/\u0026lt;name\u0026gt;:\u0026lt;tag\u0026gt;    Log into the Registry (docker login).\ndocker login -u \u0026lt;username\u0026gt; -p \u0026lt;password\u0026gt;    Push the image into the Registry (docker push).\ndocker push \u0026lt;username\u0026gt;/\u0026lt;name\u0026gt;:\u0026lt;tag\u0026gt;    Private registries: A private registry ensures that only you can access your private images, while a public registry allows you to make your private images public for selective parties.\nWhich list of factors influences the size of an image?\n  The files included in your image\n Avoid COPY instructions that are too broad like COPY . . Use .dockerignore to exclude files that should be excluded from the build    The base image size\n debian:8-slim is smaller than debian:8, nginx:1.15-alpine is smaller than nginx:1.15    Image layers\n  In a future build, Docker will use the cached part instead of recreating it as long as it is possible.\n  When pushing a new version of the image to a Registry, the common part is not pushed.\n  When pulling an image from a registry, the common part you already have is not pulled.\nThe following docekrfile places COPY instruction at the very end as this is then instruction that will change a lot. If putting COPY right after FROM, the RUN instruction will also need to be pushed or pulled in this case.\nFROM debian:8 RUN apt-get update \u0026amp;\u0026amp; apt-get upgrade \u0026amp;\u0026amp; apt-get dist-upgrade -y RUN apt-get install -y php5 COPY . .      ","date":1591737237,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1591737237,"objectID":"f98f2c63994190da8f7cdcb9a1f30ac1","permalink":"https://mapy1874.github.io/post/devops-notes/","publishdate":"2020-06-09T17:13:57-04:00","relpermalink":"/post/devops-notes/","section":"post","summary":"Docker 1. Use Docker Images Run a container from a image. Execute this command for multiple times will generate several different containers from the same image.\ndocker run \u0026lt;image\u0026gt;  Lists the containers that are still running.","tags":[],"title":"DevOps Notes","type":"post"},{"authors":["Patrick Ma"],"categories":["Statistics"],"content":"Question Give a non-negative random variable $X$, and positive integers $n$, $m$, show that if $n \\le m $, $[E(X^{n})]^{\\frac{1}{n}} \\le [E(X^{m})]^{\\frac{1}{m}}$.\nAnalysis: Intuitively, the problem may need techniques like Jensen\u0026rsquo;s Inequality as there is expectation and concave ($a^{\\frac{1}{m}}$) \u0026amp; convex functions ($a^{m}$). However, it would be hard to use Jensen directly without proper transformation. Recall that Jensen\u0026rsquo;s Ineuqality states: $$ f(EX) \\le Ef(X) ~~~~~~~~~ \\text{if $f(.)$ is convex} \\\n$$\n$$ f(EX) \\ge Ef(X) ~~~~~~~~~ \\text{if $f(.)$ is concave.} $$\nAttempt 1 We can try to apply Jensen partially to the LHS to see if it gives us a intermediate expression.\nWe know that $f(a)=a^n$ is convex on $[0,\\infty)$ if $n \\ge 1$. Using Jensen, we have $$ E(X^n) \\ge (EX)^n \\ [E(X^n)]^{\\frac{1}{n}} \\ge [(EX)^n]^{\\frac{1}{n}}=EX $$ This is not we want as Jensen finds a lower bound for the LHS and proving $EX \\le [E(X^{m})]^{\\frac{1}{m}}$ does not lead to our goal.\nAttempt 2 What about applying to the concave function ($a^{\\frac{1}{m}}$) ?\nWe know that $f(a)=a^{\\frac{1}{n}}$ is concave on $[0,\\infty)$ if $n \\ge 1$. Using Jensen, we have $$ [E(X^n)]^{\\frac{1}{n}} \\ge E(X)^{n\\frac{1}{n}}=EX $$ Same lower bound. Not helpful, either!\nAttempt 3 The failure in finding a good intermediate form motivates me to look back and exam the correctness of the proposition in a basic case.\nRecall that variance of a randome variable is always non-negative: $$ Var(X) = E(X-EX)^2\t=EX^2-2E(XEX)+(EX)^2 $$\n$$ = EX^2-(EX)^2\t\\ge 0. $$\nWe have: $$ (EX)^2 \\le EX^2 \\Leftrightarrow EX \\le (EX^2)^{\\frac{1}{2}} \\Leftrightarrow (EX^1)^{\\frac{1}{1}} \\le (EX^2)^{\\frac{1}{2}}, $$ which is true for non-negative random variable.\nIn this case, $n=1, ~ m = 2$. Can we try to reverse the general case into a well-formatted form like $(EX)^2 \\le EX^2$? $$ (EX^n)^{\\frac{1}{n}} \\le (EX^m)^{\\frac{1}{m}} \\\n\\Leftrightarrow (EX^n)^{\\frac{m}{n}} \\le EX^m \\\n\\Leftrightarrow (EX^n)^{\\frac{m}{n}} \\le EX^{n\\frac{m}{n}} $$ Boom! The reversed roadmap for transforming basic case into our goal worked! Here we have a random variable $Y=X^n$, convex function $g(a)=a^{\\frac{m}{n}}$ as $\\frac{m}{n} \\ge 1$. The final form can be treated as $g(EY) \\le E[g(Y)]$, which is true by Jensen\u0026rsquo;s Inequality! We can finally prove the proposition!\nProof Let $Y=X^n, g(a) = a^{\\frac{m}{n}}$.\nSince $$ g\u0026rsquo;'(a) = \\frac{m}{n}.(\\frac{m}{n}-1).a^{\\frac{m}{n}-2} \\ge 0 ~~\\forall a \\in [0, \\infty), $$ $g(a)$ is convex on $[0,\\infty)$.\nBy Jensen\u0026rsquo;s Inequality: $$ (EX^n)^{\\frac{m}{n}} = (EY)^{\\frac{m}{n}} \\le E(Y^{\\frac{m}{n}}) = E([X^n]^{\\frac{m}{n}})=EX^m $$\n$$ \\Leftrightarrow [E(X^{n})]^{\\frac{1}{n}} \\le [E(X^{m})]^{\\frac{1}{m}}. ~~~~~~~~~~~\\square $$\nConclusion We solved the problem by tracing back to the basic case and used it as a guide for proving the general case. Sometimes mathematical gymnastics helps us a lot.\n","date":1590349335,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1590349335,"objectID":"e998cdeb26a9892d583c12c73abe5d80","permalink":"https://mapy1874.github.io/post/jensens-inequality-1/","publishdate":"2020-05-24T15:42:15-04:00","relpermalink":"/post/jensens-inequality-1/","section":"post","summary":"Question Give a non-negative random variable $X$, and positive integers $n$, $m$, show that if $n \\le m $, $[E(X^{n})]^{\\frac{1}{n}} \\le [E(X^{m})]^{\\frac{1}{m}}$.\nAnalysis: Intuitively, the problem may need techniques like Jensen\u0026rsquo;s Inequality as there is expectation and concave ($a^{\\frac{1}{m}}$) \u0026amp; convex functions ($a^{m}$).","tags":["ML","Statistics"],"title":"Thoughts on a Jensen's Inequality Question","type":"post"},{"authors":null,"categories":null,"content":"hello\n","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"bb238c2d1697da0a6715e7e8c8299cef","permalink":"https://mapy1874.github.io/project/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/project/","section":"","summary":"hello","tags":null,"title":"Projects","type":"page"}]